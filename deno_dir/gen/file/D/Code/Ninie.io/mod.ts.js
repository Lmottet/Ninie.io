import { Client, Intents } from "./deps.ts";
export const botCache = {
    commands: new Map(),
    commandAliases: new Map(),
    guildPrefixes: new Map(),
    inhibitors: new Map(),
    eventHandlers: {},
    arguments: new Map(),
};
const importDirectory = async (path) => {
    const files = Deno.readDirSync(Deno.realPathSync(path));
    for (const file of files) {
        if (!file.name)
            continue;
        const currentPath = `${path}/${file.name}`;
        if (file.isFile) {
            await import(currentPath);
            continue;
        }
        importDirectory(currentPath);
    }
};
await Promise.all([
    "./src/commands",
    "./src/inhibitors",
    "./src/events",
    "./src/arguments",
].map((path) => importDirectory(path)));
const discord_client_id = Deno.env.get("DISCORD_CLIENT_ID");
const discord_token_id = Deno.env.get("DISCORD_BOT_TOKEN");
const intents = [
    Intents.GUILD_PRESENCES,
    Intents.GUILD_MESSAGES,
    Intents.GUILDS,
];
Client({
    token: discord_token_id ? discord_token_id : "",
    intents: intents,
    eventHandlers: botCache.eventHandlers,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQXdCLE9BQU8sRUFBVyxNQUFNLFdBQVcsQ0FBQztBQUczRSxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUc7SUFDdEIsUUFBUSxFQUFFLElBQUksR0FBRyxFQUFtQjtJQUNwQyxjQUFjLEVBQUUsSUFBSSxHQUFHLEVBQWtCO0lBQ3pDLGFBQWEsRUFBRSxJQUFJLEdBQUcsRUFBa0I7SUFDeEMsVUFBVSxFQUFFLElBQUksR0FBRyxFQUdoQjtJQUNILGFBQWEsRUFBRSxFQUFtQjtJQUNsQyxTQUFTLEVBQUUsSUFBSSxHQUFHLEVBQW9CO0NBQ3ZDLENBQUM7QUFFRixNQUFNLGVBQWUsR0FBRyxLQUFLLEVBQUUsSUFBWSxFQUFFLEVBQUU7SUFDN0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFFeEQsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJO1lBQUUsU0FBUztRQUV6QixNQUFNLFdBQVcsR0FBRyxHQUFHLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDM0MsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2YsTUFBTSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDMUIsU0FBUztTQUNWO1FBRUQsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0tBQzlCO0FBQ0gsQ0FBQyxDQUFDO0FBR0YsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmO0lBQ0UsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QsaUJBQWlCO0NBQ2xCLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FDdkMsQ0FBQztBQUdGLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUM1RCxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFFM0QsTUFBTSxPQUFPLEdBQUc7SUFDZCxPQUFPLENBQUMsZUFBZTtJQUN2QixPQUFPLENBQUMsY0FBYztJQUN0QixPQUFPLENBQUMsTUFBTTtDQUNmLENBQUM7QUFFRixNQUFNLENBQUM7SUFDTCxLQUFLLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFO0lBRS9DLE9BQU8sRUFBRSxPQUFPO0lBRWhCLGFBQWEsRUFBRSxRQUFRLENBQUMsYUFBYTtDQUN0QyxDQUFDLENBQUMifQ==